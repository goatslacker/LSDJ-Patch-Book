var IE=document.all?true:false;var $_SERVER=location.protocol+"//"+location.host;var TimeOuts=[];function $(A){return document.getElementById(A)?document.getElementById(A):false}function $$(G,F){var A=[];var E=new RegExp("\\b"+G+"\\b");var D=document.all;F=(!F)?document.getElementsByTagName("body")[0]:F;if(!D){D=F.getElementsByTagName("*")}for(var C=0,B=D.length;C<B;C++){if(E.test(D[C].className)){A.push(D[C])}}return A}function $Child(B){var A=B.split(" ");if(A.length>1){return $(A[0]).getElementsByTagName(A[1])}}function include(B){var A=document.createElement("script");A.type="text/javascript";A.src=vServer+B.src;A.onload=B.run;document.getElementsByTagName("head")[0].appendChild(A)}Array.prototype.count=function(){var A=-1;for(key in this){A++}return A};function SetTimeout(C,B,A){A=(A)?A:"t"+TimeOuts.length;TimeOuts[A]=setTimeout(C,B)}function SetInterval(C,B,A){A=(A)?A:"t"+TimeOuts.length;TimeOuts[A]=setInterval(C,B)}function ClearTimeout(A){clearTimeout(TimeOuts[A])}function ClearInterval(A){clearInterval(TimeOuts[A])}function ClearAllTimeouts(){for(key in TimeOuts){clearTimeout(TimeOuts[key])}}function GenerateChr(B){B=(B)?B:32;var C="123456789@#%^! :;<>._abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";var D="";for(var A=0;A<B;A++){D+=C.substr(Math.floor(Math.random()*C.length),1)}return D}function DisplayMessage(C){C.timeout=(!C.timeout)?15000:C.timeout;C.type=(!C.type)?"error":C.type;C.div=(!C.div)?$("turboAlert"):C.div;function B(){var D=document.createElement("div");D.setAttribute("id","turboAlert");document.body.appendChild(D);C.div=$("turboAlert")}function A(){if(!C.div){B()}C.div.className=C.type;ClearTimeout("TurboAlert");C.div.innerHTML=C.message;if(C.div.style.display!="block"){C.div.style.display="block";if(C.fade){Effects({item:C.div,method:"fadein",timeout:90})}}var D=function(){ClearTimeout("TurboAlert");if(C.fade){Effects({item:C.div,method:"fadeout",timeout:90})}else{C.div.style.display="none"}};SetTimeout(D,C.timeout,"TurboAlert");C.div.onclick=D}A()}var drag=[];var mouse=[];function getMouseXY(A){if(IE){mouse[0]=event.clientX+document.body.scrollLeft;mouse[1]=event.clientY+document.body.scrollTop}else{mouse[0]=A.pageX;mouse[1]=A.pageY}if(mouse[0]<0){mouse[0]=0}if(mouse[1]<0){mouse[1]=0}if(drag[0]){return drag[0]()}else{return mouse}}document.onclick=getMouseXY;document.onmousemove=getMouseXY;function http_request(F){try{var B=new XMLHttpRequest()}catch(E){try{B=new ActiveXObject("Msxml2.XMLHTTP")}catch(E){try{B=new ActiveXObject("Microsoft.XMLHTTP")}catch(E){alert("We apologize, your browser does not support WEB 2.0");return false}}}function C(){B.open("POST",$_SERVER+F.url,true);B.setRequestHeader("Content-type","application/x-www-form-urlencoded");B.setRequestHeader("Content-length",F.parameters.length);B.setRequestHeader("Connection","close");B.send(F.parameters);B.onreadystatechange=function(){if(B.readyState===4){D()}}}function A(){B.open("GET",$_SERVER+F.url+"?"+F.parameters,true);B.send(null);B.onreadystatechange=function(){if(B.readyState===4){D()}}}function D(){var G=typeof (F.response);if(G==="string"){$(F.response).innerHTML=B.responseText}else{if(G==="function"){return F.response(B)}else{if(G==="object"){F.response.innerHTML=B.responseText}else{if(G==="undefined"){return false}}}}}if(F.method==="get"){A()}else{C()}}function Drag(E){E.drag.style.position="absolute";E.drag.style.zIndex=E.drag.style.zIndex+1;document.onselectstart=function(){return false};document.onmousedown=function(){return false};mouse[2]=E.drag.offsetLeft-mouse[0];mouse[3]=E.drag.offsetTop-mouse[1];if(E.restrict===0){drag[0]=B}else{if(E.restrict===1){drag[0]=A}else{drag[0]=D}}function C(){if((E.drag.offsetLeft+E.drag.offsetWidth)>E.drop.offsetLeft&&E.drag.offsetLeft<(E.drop.offsetLeft+E.drop.offsetWidth)){if((E.drag.offsetTop+E.drag.offsetHeight)>E.drop.offsetTop&&E.drag.offsetTop<(E.drop.offsetTop+E.drop.offsetHeight)){return true}}return false}document.onmouseup=function(){if(E.onDroppable){if(C()){E.onDroppable(E.drag)}}drag[0]="";if(E.hover){E.drop.className=""}E.drag.style.zIndex=E.drag.style.zIndex-1;document.onselectstart=function(){};document.onmousedown=function(){};document.onmouseup=function(){};if(E.onDrop){E.onDrop()}};function D(){E.drag.style.top=mouse[1]+mouse[3]+"px";E.drag.style.left=mouse[0]+mouse[2]+"px";if(E.hover){if(C()){E.drop.className="hover"}else{E.drop.className=""}}if(E.limit){if(E.drag.offsetLeft<E.limit[0]){E.drag.style.left=E.limit[0]+"px"}if(E.drag.offsetLeft>E.limit[1]){E.drag.style.left=E.limit[1]+"px"}if(E.drag.offsetTop<E.limit[2]){E.drag.style.top=E.limit[2]+"px"}if(E.drag.offsetTop>E.limit[3]){E.drag.style.top=E.limit[3]+"px"}}if(E.onDrag){E.onDrag()}}function B(){E.drag.style.left=mouse[0]+mouse[2]+"px";if(E.limit){if(E.drag.offsetLeft<E.limit[0]){E.drag.style.left=E.limit[0]+"px"}if(E.drag.offsetLeft>E.limit[1]){E.drag.style.left=E.limit[1]+"px"}}if(E.onDrag){E.onDrag()}}function A(){E.drag.style.top=mouse[1]+mouse[3]+"px";if(E.limit){if(E.drag.offsetTop<E.limit[0]){E.drag.style.top=E.limit[0]+"px"}if(E.drag.offsetTop>E.limit[1]){E.drag.style.top=E.limit[1]+"px"}}if(E.onDrag){E.onDrag()}}}function AttachDrag(B){if(B.drag.length>0){for(var A=0;A<B.drag.length;A++){B.drag[A].style.cursor="move";B.drag[A].onmousedown=function(){Drag({drag:this,drop:B.drop,onDroppable:B.onDroppable,limit:B.limit,hover:B.hover})}}}else{B.drag.style.cursor="move";B.drag.onmousedown=function(){Drag({drag:this,drop:B.drop,onDroppable:B.onDroppable,limit:B.limit,hover:B.hover})}}}function Effects(E){E.timeout=(!E.timeout)?5:E.timeout;E.item.style.overflow="hidden";E.item.style.display="block";E.name=E.item+E.item.offsetTop+E.item.offsetLeft;ClearInterval(E.name);var B=function(){E.opacity=E.opacity-10;E.item.style.opacity=E.opacity/100;if(E.opacity<=E.limit){ClearInterval(E.name);if(E.limit===0){E.item.style.display="none";E.item.style.opacity="100"}if(E.response){E.response()}}};var D=function(){E.opacity=E.opacity+10;E.item.style.opacity=E.opacity/100;if(E.opacity>=E.limit){ClearInterval(E.name);if(E.response){E.response()}}};var A=function(){E.opacity=E.opacity-(10+(E.opacity*0.2));if(E.SlideStyle){E.item.style.width=E.opacity+"px"}else{E.item.style.height=E.opacity+"px"}if(E.opacity<=E.limit){ClearInterval(E.name);if(E.limit===0){E.item.style.display="none"}if(E.response){E.response()}}};var C=function(){E.opacity=E.opacity+(10+(E.opacity*0.2));if(E.SlideStyle){E.item.style.width=E.opacity+"px"}else{E.item.style.height=E.opacity+"px"}if(E.opacity>=E.limit){ClearInterval(E.name);if(E.response){E.response()}}};if(E.method==="fadein"){E.limit=(!E.limit)?100:E.limit;E.opacity=(!E.opacity)?0:E.opacity;E.item.style.opacity=E.opacity/100;SetInterval(D,E.timeout,E.name)}else{if(E.method==="fadeout"){E.limit=(!E.limit)?0:E.limit;E.opacity=(!E.opacity)?100:E.opacity;E.item.style.opacity=E.opacity/100;SetInterval(B,E.timeout,E.name)}else{if(E.method==="slidein"){if(E.SlideStyle){E.opacity=(!E.opacity)?E.item.offsetWidth:E.opacity;E.item.style.width=E.opacity+"px"}else{E.opacity=(!E.opacity)?E.item.offsetHeight:E.opacity;E.item.style.height=E.opacity+"px"}E.limit=(!E.limit)?0:E.limit;SetInterval(A,E.timeout,E.name)}else{if(E.method==="slideout"){E.opacity=(!E.opacity)?0:E.opacity;if(E.SlideStyle){E.limit=(!E.limit)?E.item.childNodes[0].offsetWidth:E.limit;E.item.style.width=E.opacity+"px"}else{E.limit=(!E.limit)?E.item.childNodes[0].offsetHeight:E.limit;E.item.style.height=E.opacity+"px"}SetInterval(C,E.timeout,E.name)}}}}}function Validate(A){if(A.is==="email"){A.regxp=/^([a-zA-Z0-9_.-])+@([a-zA-Z0-9_.-])+\.([a-zA-Z])+([a-zA-Z])+/}else{if(A.is==="integer"){A.regxp=/^[-]?[0-9]+[\.]?[0-9]+$/}else{if(A.is==="numeric"){A.regxp=/^[0-9]$/}else{if(A.is==="alpha"){A.regxp=/^[A-Za-z]$/}else{if(A.is==="alphanumeric"){A.regxp=/^[A-Za-z0-9]$/}else{if(A.is==="hex")A.regxp = /^[A-F0-9]{2}$/}}}}}return A.regxp.test(A.validate)}function Accordion(D){var C=[];D.accordion.normalize();for(var A=0;A<D.toggle.length;A++){D.toggle[A].style.cursor="pointer";D.toggle[A].onclick=function(){if(this.nextSibling.nextSibling.style.display!=="block"){for(var E=0;E<C.length;E++){if(C[E].style.display==="block"){Effects({item:C[E],method:"slidein"})}}Effects({item:this.nextSibling.nextSibling,method:"slideout",limit:this.nextSibling.nextSibling.childNodes[(this.nextSibling.nextSibling.childNodes.length-1)].title})}else{Effects({item:this.nextSibling.nextSibling,method:"slidein"})}}}for(A=0;A<D.item.length;A++){C[A]=D.item[A];var B=document.createElement("span");B.title=D.item[A].offsetHeight+15;B.style.display="none";D.item[A].appendChild(B);D.item[A].style.display="none"}}function Lightbox(C){var D=document.createElement("div");D.id="LightBox-blackout";var B=document.createElement("div");B.id="LightBox-wrapper";document.body.appendChild(D);document.body.appendChild(B);if(C.ajaxloader){C.loader=document.createElement("img");C.loader.id="LightBox-ajaxloader";C.loader.src=C.ajaxloader}C.item=document.createElement("div");C.item.name="LightBox";C.item.id="LightBox";var A=document.createElement("a");A.className="close";A.innerHTML="Close X";A.href="javascript:;";if(C.loader){D.appendChild(C.loader)}B.appendChild(C.item);B.appendChild(A);A.onmouseup=function(){C.item.style.display="none";$("LightBox-wrapper").parentNode.removeChild($("LightBox-wrapper"));if(C.fade){Effects({item:$("LightBox-blackout"),method:"fadeout",response:function(){$("LightBox-blackout").parentNode.removeChild($("LightBox-blackout"))}})}else{$("LightBox-blackout").parentNode.removeChild($("LightBox-blackout"))}};if(C.html){C.item.innerHTML=C.html}else{http_request({method:"get",url:C.url,parameters:C.parameters,response:C.item.id})}C.item.style.visibility="hidden";if(C.fade){Effects({item:$("LightBox-blackout"),method:"fadein",limit:85,response:function(){Effects({item:$("LightBox-wrapper"),method:"fadein",timeout:5,response:function(){C.item.style.visibility="visible"}})}})}else{C.item.style.visibility="visible"}}function Slider(B){B.leftPadding=(B.leftPadding)?B.leftPadding:0;B.rightPadding=(B.rightPadding)?B.rightPadding:0;B.knob.style.position="absolute";B.area.onmousedown=function(){B.dragged=false};B.knob.onmousedown=function(){Drag({drag:B.knob,restrict:0,limit:[B.area.offsetLeft+B.leftPadding,((B.area.offsetLeft+B.area.offsetWidth)-B.knob.offsetWidth)-B.rightPadding],onDrag:B.onDrag,onDrop:A})};var A=function(D){D=(D>0)?D:B.knob.offsetLeft;if(B.snap){for(var C=0;C<B.range.length;C+=2){if(D>B.range[C]&&D<B.range[C+1]){B.racle=Math.round(C/2)}}B.knob.style.left=B.points[B.racle]+"px"}else{B.knob.style.left=D+"px"}B.dragged=true;if(B.response){B.response()}drag[0]=""};B.area.onclick=function(){if(!B.dragged){A(mouse[0]-(B.knob.offsetWidth/2))}}}function Sort(B){for(var A=0;A<B.sortable.length;A++){B.sortable[A].style.cursor="move";B.sortable[A].onmousedown=function(){var D=this.cloneNode(true);D.id="SortGhost";D.style.top=this.offsetTop+"px";D.style.left=this.offsetLeft+"px";D.style.width=this.offsetWidth+"px";D.style.height=this.offsetHeight+"px";B.ghostLeft=D.offsetLeft;B.ghostLeft=(B.type==="matrix")?0:this.offsetLeft;B.list.appendChild(D);var C=this;C.style.visibility="hidden";Drag({drag:D,restrict:1,limit:[B.list.offsetTop,(B.list.offsetHeight-(D.offsetHeight*1.9))+B.list.offsetTop],onDrag:function(){var E=0;for(A=0;A<B.list.childNodes.length;A++){if(B.list.childNodes[A].nodeType==1&&D.offsetTop>B.list.childNodes[A].offsetTop){E=A}}B.list.insertBefore(C,B.list.childNodes[E].nextSibling)},onDrop:function(){B.list.removeChild($("SortGhost"));C.style.visibility="visible";if(B.onSort){B.onSort()}}})}}}function Tabs(D){D.tabs.normalize();var A=document.createElement("div");A.id="TabContent";document.body.insertBefore(A,D.tabs.nextSibling);var C=[];for(var B=0;B<D.tabs.childNodes.length;B++){if(D.tabs.childNodes[B].tagName==D.toggle.toUpperCase()){D.tabs.childNodes[B].style.cursor="pointer";C[C.length]=D.tabs.childNodes[B];D.tabs.childNodes[B].onclick=function(){if(D.ajax){http_request({method:D.ajaxMethod,url:$(this.title).title.split("?")[0],parameters:$(this.title).title.split("?")[1],response:"TabContent"})}else{$("TabContent").innerHTML=$(this.title).innerHTML}for(var E=0;E<C.length;E++){C[E].className=""}this.className="selected"};$(D.tabs.childNodes[B].title).style.display="none"}}}function Tooltip(F){var B=$("Tooltip");if(!B){B=document.createElement("div");B.id="Tooltip";B.style.position="absolute";B.style.display="none";if(F.custom){B.className=F.custom}document.body.appendChild(B)}var E=function(){B.innerHTML=this.title;this.title="";B.style.display="block";drag[0]=D};var D=function(){$("Tooltip").style.top=(mouse[1]+20)+"px";if(mouse[0]>(document.body.offsetWidth-$("Tooltip").offsetWidth)){$("Tooltip").style.left=(mouse[0]-$("Tooltip").offsetWidth)+"px"}else{$("Tooltip").style.left=mouse[0]+"px"}};var A=function(){this.title=B.innerHTML;B.style.display="none";drag[0]=""};if(F.item.length>0){for(var C=0;C<F.item.length;C++){F.item[C].onmouseover=E;F.item[C].onmouseout=A}}else{F.message=F.item.title}F.item.onmouseover=E;F.item.onmouseout=A}function AjaxUpload(F){var C=F.form.getElementsByTagName("input");for(var D=0;D<C.length&&!F.input;D++){if(C[D].type==="file"){F.input=C[D]}}F.filedir=F.directory+"/"+F.input.value;var B=function(H){var G=typeof (F.response);if(H.responseText.indexOf("<!--Done-->")!=-1){if(G==="string"){$(F.response).innerHTML=H.responseText}else{if(G==="function"){return F.response()}}}else{DisplayMessage({message:"Uploading file...",type:"ok"});SetTimeout(A,1500,"AjaxUpload")}};var A=function(){http_request({method:"get",parameters:"filedir="+F.filedir,url:"turbojs/upload.php",response:B})};var E=document.createElement("input");E.name="dirname";E.type="hidden";E.value=F.directory;F.form.appendChild(E);F.form.submit();A()}function Hover(C){var B=function(){this.style.background="#"+C.start;ClearInterval(this+this.title)};if(C.start.length==3){C.start=C.start+""+C.start}if(C.finish.length==3){C.finish=C.finish+""+C.finish}if(C.item.length>0){for(var A=0;A<C.item.length;A++){C.item[A].onmouseover=B;C.item[A].title=A;C.item[A].onmouseout=function(){Transition({item:this,start:C.start,finish:C.finish})}}}else{C.item.onmouseover=B;C.item.onmouseout=function(){}}}function Transition(F){F.r=parseInt(F.start.substr(0,2),16);F.g=parseInt(F.start.substr(2,2),16);F.b=parseInt(F.start.substr(4,2),16);F.fr=parseInt(F.finish.substr(0,2),16);F.fg=parseInt(F.finish.substr(2,2),16);F.fb=parseInt(F.finish.substr(4,2),16);if(parseInt(F.start,16)>parseInt(F.finish,16)){F.lr=(F.fr>0)?F.fr:0;F.lg=(F.fg>0)?F.fg:0;F.lb=(F.fb>0)?F.fb:0;SetInterval(B,50,F.item+F.item.title)}else{F.lr=(F.fr<255)?F.fr:255;F.lg=(F.fg<255)?F.fg:255;F.lb=(F.fb<255)?F.fb:255;SetInterval(A,50,F.item+F.item.title)}function E(){F.start=F.r.toString(16)+F.g.toString(16)+F.b.toString(16);F.item.style.background="#"+F.start;if(F.r==F.lr&F.g==F.lg&F.b==F.lb){clearInterval(F.item+F.item.title)}}function A(){F.r+=5;F.g+=5;F.b+=5;F.r=(F.r<F.lr)?F.r:F.lr;F.g=(F.g<F.lg)?F.g:F.lg;F.b=(F.b<F.lb)?F.b:F.lb;E()}function B(){F.r-=5;F.g-=5;F.b-=5;F.r=(F.r>F.lr)?F.r:F.lr;F.g=(F.g>F.lg)?F.g:F.lg;F.b=(F.b>F.lb)?F.b:F.lb;E()}};
